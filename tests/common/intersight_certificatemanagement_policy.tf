resource "intersight_certificatemanagement_policy" "certificate1" {
  description = "sample certificate"
  name        = "certificate1"
  organization {
    moid        = data.intersight_organization_organization.default.results.0.moid
    object_type = "organization.Organization"
  }
  certificates {
      certificate {
            pem_certificate = var.pem_certificate
        }
        enabled = true
        privatekey = var.privatekey
    }
}

variable "privatekey"{
	type = string
	sensitive   = true
	description = "Private key base64 encoded value"
	default = "LS0tLS1CRUdJTiBSU0EgUFJJVkFURSBLRVktLS0tLQpNSUlHNGdJQkFBS0NBWUVBeTNqeVlEZ2lrb3lZOXRDcHRBbFNOVkFUM2xjSHpKRnRkeS9kR1R4ZGJPNVNYU2VjCnNiaXVwRG5qUWljbGRwOVk1cXFKUVo2VUhSMHU3R0djQUtQUnZVNjBWUUlWTDJtaGp2czAzZXppbi9MZVlRUmsKVlJkTzh4TWdDSGVSaTFDWVlDVTUrN1QwSDlxOWtEZDl2ZjZ4U2w4UTNDWFBjMGR2T1N1SDVMRXRxdE4zZE5BSQpEOStmZ3hBNEFRQTFxWWk5YTBCM283Z2VnbXFkNEg4YThvaWU5Z2t0Uk95NmNMNDFiWkREUVFHVkJzdklwZ1VUCkhrOHR2SUwyL3orWG1yNGp5Y1YxbzJmdkM5N0FCNDB4M3dnU3BKelpLOVVkQkZmb3FYM3RHbUdQNkw0dk1BOWUKQVdVdW5lTUFwWVYrNVhPakltSVlwMjRZN3lKT0RpKzRiT2pxc0xsMjVEOXdDZUFTVTl4ZFJaV0l4ZWZzem9ScQplR0NvaE5KaUQ3VDhIWEticUg3S1g5L05PU3NZS2J5RG53bld0T2hxVUtDSG8ycjZwdFo0WjFlWlVwYXhzQzVxCmxyOE5wbFdMcnBJc2E4S0NJanp4ZXA1WEtVOWF2WUFoNmZQUzl3dGdFbEJTcm5LQ0hlSzYrMzVDUkJXVkhXeVgKbVVqSkVFOXNCbDVkMDk3VEFnTUJBQUVDZ2dHQUVvMjh6RGxTTGJyVVYrMC9ERU90VTE4eDhKeFBBY0JoRXZVeQpYQks5RWluSktPVnJ6R2ppdytiamFpelhwYkZ5RWRhTEhZaXdTTmRZYUFXZWpCQmtGN2NOaXBMZUM2eStKcU9SCmRvc2JQeXFPVEpweDY3QnNhbzNiNWVuQlE4cmRtaWJLMnNEdFlkbzRYdVl3ZVJxNFgrZTdTZGZJeXVKQXFoM20KRGx4NXBaSVMybnY5d0RUTC9zK0R5OU9SRVJ4KzZVQy9xQllwOGdwMnl2bk1JMEdCL1QxbysxZjZ5RDBQOGlXNQpLRHhVc29IeWtmRDBoVmNDL0tXVWtFSGtPU0FOU2JRMHJDUVpNN1JQQS93YUdKRTJOaTVBdm05SllhZEV6QzkvCm9POEU0MTV3ZlQ3OWs1elhhZkQ5UGZyNlRrUWFyVFlxQkYzbVNLRDRuMGhiNVRiN3lCczRNQ2t4NTRjeEtyOXYKeFpEVXhCNXNPN25KRGRwTkVhOVhxeTFPYnNzOGhQWGdUWmxuZVZlNGRTL3JOYUJ1M1JZYlNNNEpmaFdOWVZ2VQo1cmVWQ0ZwRUZCRmZrOGpuVE5Rc3hjSGI4TUZSUllURmIwZW5MdHYzcFZVMWZCTkpmNmJBTDdjdUdMUGNjcXpSCkhTQW9YNktSb1VYWTQ4Q3dzb3lqQVNqNG1EcEJBb0hCQU8vV3JZTE9MY1Q3VFVPa2dQTFE3SnJCQ1NNN3F4WnYKVGlVMTc5UUZYYXJycFExdVJGejIxWC9scDhPYkhyUi9qeFIxaUtmOGZDblgvc09CY0RhYUwxZG1IN3dKakNDNApZejJqRXUxN1R2RWZSRmdRMVBkR3JhazJtY1YremZEVWVrTzkrRGdsSmY5MDdsWUkwNXpkNTNQVWljOGJuenpYCjVRVHBCRDg1M1JsNGwzdlBPOFdxeFZWeFFFeUNaMjJLRHBqVTZVZmwwQUNncERrR3laeVRFQjZvNUVITkFhY1YKOWxwaHZwSmdNV0c0VW1WWSt0ajlkaHZ3dFQycGxBOTBCUUtCd1FEWkx1L2R2WUtTREIwVG9CNjdFU2ttSEtFNQptdExmMUhOTTYvc3pPZ1RtK2NrSTh1S3l1SlhUOHNJakJSZ3JpY3kzTHhTRUV1bVpkTUJmaXpDclk1Z1c0anhJCkJkSytuTnZsNEd3T3ZPa1ZheFd4ZTBMdG1GQUZPcjAzSmxqV0wwdUpxYUplMU5MNVVWVE1KWExGQTZWV0hNVjYKbThWRXNCRGhubDBXR24yQzFEc3M4UVRKTFNyd3lTYjVRTFFXcTROWjJyWWVTSWVRdXNXS2Iwa3JFeEk2QzNHWgpYVjY5OEYrZUdFeUZLaXJ3U2dQVzhUL1BUamU5L29UWDlTUXdsdmNDZ2NCUlk2aStHdm10UHhxWk9kb0lqSjIrClpvT1RVVXhkOEtlME9QbUtHY2dQbUtnS1JzRXNTeGRvcjZhZTJxVXcyNWpTZUpCSGNZY3hLL3RvblNSWFl6dHQKalZwM2xVWFlWTHBZMEY0NytQeHhGd3M2VjN2dDdpNUFuaWJRdnBka2dyWjdCcHlWY1FYVUN2cFdkK2hYODNYMworTWhMWURSSmtYcEdrRXpBcUFKQUFveGxsNDNSSm9LUTNEM1Z1T3NnWVJsVEErMm1XSGFkditYNjlESzJ6N0ZJCnRrZS9qTEppNFRFWXV0TFJHWk9vZGNTQVlCSEFVVU1qZUN3SklPTDkyNEVDZ2NCUWkyQzMycDErN25FbUl4N2kKZjRYRU5aL3hUaUxna2RqRThVdHkveFJzV0x5ZXpmMFhETys3Nys3aHIvVDd5Sm9jWWFCNUxzNWxjL0FZUHZXbwp5a0hRVXN6S1pTWjRQSklzMmFNWmdDUHRKbzZnQ0xlVWlBVTlPMENMSUhTWDBtaHdRSElRTzF1V3pQdm16Z2lYCldqZktETmVNRmhMOTIxSVhhblRaU3ErN2dsd0QyY3JObFN1MHF0VUNZV1dvZHFrNi9Lckg1bHdvWjZ2MUlEcUIKZUF3dGJLc1BscG9aVlBrUkY2L2hQdmMzc0N0bVhvZ3NxTFJ4aU4vWmUzZVZjWmNDZ2NBS0RhbTZLeFk2Z3Ztego1cjVCVkNVdnFqSEV1ZDArMWx1MnVuSDNvMm1MV1lBcm8wRlJCc0pFcUpJQ0hxTUoyNFlPSWpBNUtZbndvZGtvCjhVZ3ZvM0N6UHIvM2FLN21pUW5hbUpteWNwMmxXWkdXck5uazhDWFpZNnpCSHJuelNtSllsTXFSemlUNHVZenEKMERyeHU3emJTWkk1VjZIRjEwMlVOc1V4WWwwQVpZWTN1YjdwTEJEZ1p3cjNQSlVnbUVqTnE3VzM1aDNvMmJNbAovTkE4MVpCNjlTbkdmSXJkNHpjRlJxVlgzKytVbEhzcVYvclJ5bGs0d00va3pSZXZEckk9Ci0tLS0tRU5EIFJTQSBQUklWQVRFIEtFWS0tLS0tCg=="
}

variable "pem_certificate"{
	type = string
	sensitive   = true
	description = "Pem certificate base64 encoded value"
	default = "LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUZCVENDQTIyZ0F3SUJBZ0lKQUlPKzFFRGNyYUM3TUEwR0NTcUdTSWIzRFFFQkN3VUFNSUdZTVFzd0NRWUQKVlFRR0V3SkpUakVTTUJBR0ExVUVDQXdKUzJGeWJtRjBZV3RoTVJJd0VBWURWUVFIREFsQ1pXNW5ZV3gxY25VeApFakFRQmdOVkJBb01DVlJHVkdWemRHbHVaekVVTUJJR0ExVUVDd3dMUkdWMlpXeHZjRzFsYm5ReER6QU5CZ05WCkJBTU1CbFJsYzNSVVJqRW1NQ1FHQ1NxR1NJYjNEUUVKQVJZWGJXVm5hR0Z1WVM1eVFHMWhjR3hsYkdGaWN5NWoKYjIwd0hoY05NakV4TURFME1URXdNVEk1V2hjTk1qUXhNREV6TVRFd01USTVXakNCbURFTE1Ba0dBMVVFQmhNQwpTVTR4RWpBUUJnTlZCQWdNQ1V0aGNtNWhkR0ZyWVRFU01CQUdBMVVFQnd3SlFtVnVaMkZzZFhKMU1SSXdFQVlEClZRUUtEQWxVUmxSbGMzUnBibWN4RkRBU0JnTlZCQXNNQzBSbGRtVnNiM0J0Wlc1ME1ROHdEUVlEVlFRRERBWlUKWlhOMFZFWXhKakFrQmdrcWhraUc5dzBCQ1FFV0YyMWxaMmhoYm1FdWNrQnRZWEJzWld4aFluTXVZMjl0TUlJQgpvakFOQmdrcWhraUc5dzBCQVFFRkFBT0NBWThBTUlJQmlnS0NBWUVBeTNqeVlEZ2lrb3lZOXRDcHRBbFNOVkFUCjNsY0h6SkZ0ZHkvZEdUeGRiTzVTWFNlY3NiaXVwRG5qUWljbGRwOVk1cXFKUVo2VUhSMHU3R0djQUtQUnZVNjAKVlFJVkwybWhqdnMwM2V6aW4vTGVZUVJrVlJkTzh4TWdDSGVSaTFDWVlDVTUrN1QwSDlxOWtEZDl2ZjZ4U2w4UQozQ1hQYzBkdk9TdUg1TEV0cXROM2ROQUlEOStmZ3hBNEFRQTFxWWk5YTBCM283Z2VnbXFkNEg4YThvaWU5Z2t0ClJPeTZjTDQxYlpERFFRR1ZCc3ZJcGdVVEhrOHR2SUwyL3orWG1yNGp5Y1YxbzJmdkM5N0FCNDB4M3dnU3BKeloKSzlVZEJGZm9xWDN0R21HUDZMNHZNQTllQVdVdW5lTUFwWVYrNVhPakltSVlwMjRZN3lKT0RpKzRiT2pxc0xsMgo1RDl3Q2VBU1U5eGRSWldJeGVmc3pvUnFlR0NvaE5KaUQ3VDhIWEticUg3S1g5L05PU3NZS2J5RG53bld0T2hxClVLQ0hvMnI2cHRaNFoxZVpVcGF4c0M1cWxyOE5wbFdMcnBJc2E4S0NJanp4ZXA1WEtVOWF2WUFoNmZQUzl3dGcKRWxCU3JuS0NIZUs2KzM1Q1JCV1ZIV3lYbVVqSkVFOXNCbDVkMDk3VEFnTUJBQUdqVURCT01CMEdBMVVkRGdRVwpCQlRrQUJRT21TMUYrTkV2aXRXNi9qMVdtUi9CMWpBZkJnTlZIU01FR0RBV2dCVGtBQlFPbVMxRitORXZpdFc2Ci9qMVdtUi9CMWpBTUJnTlZIUk1FQlRBREFRSC9NQTBHQ1NxR1NJYjNEUUVCQ3dVQUE0SUJnUUJUNUszemE5UHIKOTBmZTYzcGVnY1E3dUxlRi9tMHM4Z1lMaUJJS1A4NjVEMTk2WHNWRFhBUm5UQ0w5T0hoYUllcy9leCtic2dadQpWZUhkeWF3eEFkVUt1SHVXa0NXRklZZFRoVHRWWVpuVE02emxOT0hiM1NUNXZENG4weWd5YVVDV2gzREVJd1ByCkFKS3VTU3lWVVIwU05Wbi8zL2R1ZzJQb1RKRkZzRXVueHJNK0k3Y2YxWXFlNTBiZ2RwcWF4R0ZXNDRyZmkrYUwKQ3RYei9QYzdJRHpJL2ZDc0NZMTJaQnpYcXIvbEJ4WjE0Ym1BbTVreXBpRGZzc21FN0drT3Y3R0pjbmpMck1YbApiT2RMQVFWWXJ0Nkk3OVJBOEpvVVpvTHk1NDU0WVh2bnArVVh4Y1NYY0hRK0g0Vys4NnVVZWVKZGZWOHZ5dDRsCnlJT29TU2tTUERibjdHZEJvMU5Gd2FzNHVMVzdaUmcrVFZrOVhxU2E3Mk9Kc3VhSWoyaklGcnl4Q3hhQzQ1dGYKbnlydzRpQXJLZkV0YmhFczEvNXo3TThrUEFub09SVzMySjgzTCs5QjBnaVc1RzRZdTVqUzlxV3RMRyt3K2ZxNwplcXdGTXVOVFZGbGN6MFlxc0d4UVlkaU02Y0cycmc4RVAvOHhlNHdsdnppcXV4dm9aQmpNeVVJPQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
}
